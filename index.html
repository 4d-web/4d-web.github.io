<!DOCTYPE html>
<html lang="en">

<head>

    <!-- meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>4D-WEB</title>
    <link rel="shortcut icon" href="images/icons/favicon.png">
    <!-- meta end -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="js/custom.js"></script>
    <!-- styles -->
    <link rel="stylesheet" href="css/index.css">

    <link rel="stylesheet" href="css/mega-box.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="css/style-pages.css">

    <!-- <link rel="stylesheet" href="css/boot-float.css">-->

</head>

<body>
    <header>
        <section class="section-menu main_nav_menu">
            <div class="content">
                <nav class="nav-menu">
                    <ul class="nav-item left">
                        <li>
                            <h2 class="title"><a href="/"><span>4d</span>-web_ </a></h2>
                        </li>
                    </ul>
                    <ul class="nav-item right">
                        <li><a href="#">About me</a></li>
                        <li><a href="#">Apps</a></li>
                        <li><a href="#">Developer Tools</a></li>
                        <li><a href="#">Css presets</a></li>
                    </ul>
                </nav>
            </div>
        </section>
    </header>
    <main class="mainBox mainStyle"></main>

    <footer>
        <div class="content"></div>
    </footer>

    <script>
        //        log(document.URL)
        let href = window.location.href,
            host = window.location.host,
            pathname = window.location.pathname
            getFile = ""
        
        let log = (text) => {
            console.log(text)
        }


        function getURL (url) {
            log(href)
            log(host)
            log(pathname)
        }

        log(getURL(href))

        function showPage(item, dataHref) {
            if (item) dataHref = $(item).attr('href')

            function getPage(getFile, dataHref) {
                $.ajax({
                    url: getFile,
                    type: 'GET',
                    success: function(data) {
                        log(data);
                        $('.mainBox').html(data);
                    }
                })
                var state = {
                    'page_id': 1,
                    'user_id': 5
                };
                var title = 'Hello World';

                history.pushState(state, title, dataHref);
                //                window.history.pushState({"html":href},"");
            }
            
            if (dataHref != '#' && dataHref != '/' && dataHref != '/index.html') {
                getFile = dataHref + "index.html"
                getPage(getFile, dataHref)
            } else if (dataHref == '/' || dataHref == '/index.html') {
                getFile = '/main.html'
                getPage(getFile, dataHref)
            }
        }

        showPage(false, pathname)
        
        $('.main_nav_menu a').click(function(e) {
            e.preventDefault()
            let dataHref = $(this).attr('href')
            showPage(this, dataHref, true)
        })
//        $('header').load("/header.html")

    </script>
    <!-- <script src="js/main.js"></script> -->
</body>

</html>
